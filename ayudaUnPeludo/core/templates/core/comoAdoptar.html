<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    {% load static %}
    <link rel="stylesheet" href="{% static 'core/css/comoAdoptar.css' %}">
    {% load static %}
    <link rel="icon" href="{% static 'core/img/huella.svg' %}" type="imge/svg">
    <title>¿Cómo adoptar?</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- VALIDACION FORMULARIO-->
    <script>
      $('document').ready(
        function () {
          $("#error").hide();

          $('#formulario').submit(
            function () {
              var mensaje = "";

              if ( $("#exampleFormControlNombre").val().trim().length == 0 ) {
                //ERROR
                mensaje = "Complete el campo nombre. <br>";
              }
              if ( $("#exampleFormControlEmail").val().trim().length == 0 ) {
                //ERROR
                mensaje += "Complete el campo correo electrónico. <br>";
              }
              if ( $("#options").val().trim() === "") {
                mensaje += "Debes seleccionar tu identificación. <br>";
              }
              if ( $("#exampleFormControlIdentificacion").val().trim().length == 0) {
                mensaje += "Complete el campo de identificación. <br>"
              }
              if ( $("#options").val().trim() == "1") {
                var rut = $("#exampleFormControlIdentificacion").val().trim();
                if (!rut.includes('-')) {
                  mensaje += "Debes agregar un guión a tu rut <br>";
                }
                if (!rut.includes('.')) {
                  mensaje += "Debes agregar los puntos a tu rut. <br>";
                }
                if (rut.length > 12 ) {
                  mensaje += "Rut inválido. Excede el largo. <br>"
                }
                if (rut.length < 11) {
                  mensaje += "Rut inválido. No cumple el largo. <br>"
                }
              }
              if ( $("#exampleFormControlCelular").val().trim().length == 0) {
                mensaje += "Complete el campo de celular. <br>"
              }
              if ( $("#exampleFormControlCiudad").val().trim().length == 0) {
                mensaje += "Complete el campo de ciudad. <br>"
              }
              if ( $("#exampleFormControlTextarea").val().trim().length == 0) {
                mensaje += "Complete el campo de su participación. <br>"
              }
              if ( $("#exampleFormControlTextarea").val().trim().length < 30) {
                mensaje += "El texto de su participación debe tener una cantidad superior de 30 caracteres."
              }
              //mensaje vacio
              if (mensaje != "") {
                $("#error").html(mensaje);
                $("#error").show();
                event.preventDefault();
              }
            })
        }
      )
      var rut = $("##exampleFormControlIdentificacion").val();
      $("#enviar").click(validarRut(rut))
      function validarRut (rut) {
        var valor = rut.value.replace('.', '');
        valor = valor.replace('-', '');

        var cuerpo = valor.slice(0, -1);
        var dv = valor.slice(-1).toUpperCase();

        rut.value = cuero + '-' + dv;
      }

    </script>
  </head>
  <body>
    <!-- HEADER -->
    <header>
      <nav id="header" class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container-fluid">
          <a class="navbar-brand d-flex logo" href="./index.html">
            {% load static %}
            <img src="{% static 'core/img/huella.svg' %}" alt=""> 
            ADOPTA UN<br>PELUDO
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse " id="navbarSupportedContent">
            <ul class="navbar-nav  ms-auto">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="./index.html">Inicio</a>
              </li>
              <li><a class="nav-link active" aria-current="page" href="#">Donativos</a></li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownAdopciones" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Adopciones
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <li><a class="dropdown-item" href="#">¿Cómo adoptar?</a></li>
                  <li><a class="dropdown-item" href="./adopcionGatos.html">Gatos en adopción<br>- Anfitriones y Santuario</a></li>
                  <li><a class="dropdown-item" href="./adopcionPerros.html">Perros en adopción<br>- Anfitriones y Santuario</a></li>
                </ul>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownAdopciones" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Voluntariado
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="">Hogar temporal</a></li>
                <li><a class="dropdown-item" href="">Amadrina/Apadrina <br>una criatura</a></li>
                <li><a class="dropdown-item" href="">Socios</a></li>
              </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <!-- /HEADER -->
    <!-- HERO -->
    <main id="main">
      <div id="carousel" class="carousel slide" data-bs-ride="carousel" data-bs-pause="false">
        <div class="carousel-inner">
          <div class="carousel-item active">
            {% load static %}
            <img src="{% static 'core/img/comoAdoptarCarousel/foto1.jpg' %}" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            {% load static %}
            <img src="{% static 'core/img/comoAdoptarCarousel/foto2.jpg' %}" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            {% load static %}
            <img src="{% static 'core/img/comoAdoptarCarousel/foto3.jpg' %}" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            {% load static %}
            <img src="{% static 'core/img/comoAdoptarCarousel/foto4.jpg' %}" class="d-block w-100" alt="...">
          </div>
          <div class="overlay">
            <div class="container">
              <div class="row align-items-center">
                <div class="text-center text-md-end">
                  <h1 class="d-sm-block d-md-block mt-4 text-center">¿Cómo adoptar?<br> Llena el siguiente formulario</h1>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <!-- /HERO -->
    <!-- FORM -->
    <div class="container container-form">
      <div class="row">
        <div class="col">
          <h1 class="text-center">¡Envíanos tu solicitud!</h1>
          <form action="procesar.php" method="POST" id="formulario">
            <div class="mb-3">
              <label for="exampleFormControlNombre" class="form-label">Nombre</label>
              <input type="text" class="form-control" id="exampleFormControlNombre" placeholder="Nombre completo">
            </div>
            <div class="mb-3">
              <label for="exampleFormControlEmail" class="form-label">Email address</label>
              <input type="email" class="form-control" id="exampleFormControlEmail" placeholder="name@example.com">
            </div>
            <label for="exampleFormControlInput1" class="form-label">Escoge tu identificación</label>
            <select id="options" class="form-select" aria-label="Disabled select example" enabled>
              <option value=""selected = "selected">Escoge una opción</option>
              <option value="1">Rut</option>
              <option value="2">Número pasaporte</option>
            </select>
            <div class="mb-3">
              <label for="exampleFormControlIdentificacion" class="form-label">Identificación</label>
              <input type="text" class="form-control" id="exampleFormControlIdentificacion" placeholder="rut: nn.nnn.nnn-n ó pas: nnnnnnnn">
            </div>
            <div class="mb-3">
              <label for="exampleFormControlCelular" class="form-label">Celular (opcional)</label>
              <input type="text" class="form-control" id="exampleFormControlCelular" placeholder="+569 12344543">
            </div>
            <div class="mb-3">
              <label for="exampleFormControlCiudad" class="form-label">Ciudad de residencia</label>
              <input type="email" class="form-control" id="exampleFormControlCiudad" placeholder="Ej. Santiago de Chile">
            </div>
            <div class="mb-3">
              <label for="exampleFormControlTextarea" class="form-label">Describe la forma en la que te quieres involucrar</label>
              <textarea class="form-control" id="exampleFormControlTextarea" rows="3"></textarea>
            </div>
            <div class="container mt-4 d-flex justify-content-center">
              <input class="btn btn-primary me-3" type="submit" id="enviar" value="Enviar"/>
              <div class="btn btn-secondary">Limpiar</div>
            </div>
          </form>
          <div class="alert alert-danger" role="alert" id="error"></div>
        </div>
      </div>
    </div>
    <!-- /FORM -->

    <!-- FOOTER -->
    <footer id="footer" class="py-4 bg-light">
      <div class="container">
        <div class="row text center">
          <div class="col-12 col-lg">
            <a href="./index.html">Fundación adopta</a>
          </div>
          <div class="col-12 col-lg">
            <a href="#">Contáctanos</a>
          </div>
          <div class="col-12 col-lg">
            <a href="#">Postula!</a>
          </div>
          <div class="col-12 col-lg">
            <a href="#">Términos y condiciones</a>
          </div>
        </div>
      </div>
    </footer>
    <!-- /FOOTER -->

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js" integrity="sha384-lpyLfhYuitXl2zRZ5Bn2fqnhNAKOAaM/0Kr9laMspuaMiZfGmfwRNFh8HlMy49eQ" crossorigin="anonymous"></script>
    -->
  </body>
</html>